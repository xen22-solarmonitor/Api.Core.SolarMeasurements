<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>netstandard2.0</TargetFramework>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="Microsoft.Rest.ClientRuntime" Version="2.3.20" />
    <PackageReference Include="Microsoft.SourceLink.GitHub" Version="1.0.0-beta2-19367-01" PrivateAssets="All"/>
  </ItemGroup>

  <ItemGroup>
    <Folder Include="AutoGeneratedSwaggerDefinition" />
  </ItemGroup>

  <Target Name="GenerateProxyClasses" BeforeTargets="PreBuildEvent">
    <Exec Command="echo Installing npm packages needed by autorest." />
    <Exec Command="npm install" />
    <Exec Command="echo Executing autorest." />
    <Exec Command="npx autorest autorest.md --namespace=Api.Core.SolarMeasurementsProxy --add-credentials --input-file=AutoGeneratedSwaggerDefinition/swagger.json --output-folder=AutoGeneratedProxyClasses --csharp" />
  </Target> 

</Project>
